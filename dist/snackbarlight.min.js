"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),Snackbar=function(){function t(e,n,a){_classCallCheck(this,t),""!==e?(this.options=this.activateOptions(n),this.data=e,this.callback=a,this.ensureContainerExists(),this.createElement()):console.warn("SnackbarLight: You can not create a empty snackbar please give it a string.")}return _createClass(t,[{key:"ensureContainerExists",value:function(){if(!document.getElementById("snackbar-container")){var t=document.createElement("div");t.setAttribute("id","snackbar-container"),document.body.appendChild(t)}}},{key:"createElement",value:function(){var t=this;this.snackbar=document.createElement("div"),document.getElementById("snackbar-container").appendChild(this.snackbar),this.snackbar.innerHTML=this.messageToHtml(),this.snackbar.setAttribute("class","snackbar"),setTimeout(function(){t.snackbar.setAttribute("class","snackbar "+t.options.activeClass)},50),"false"!==this.options.timeout&&(this.timer=new Timer(function(){t.snackbar.setAttribute("class","snackbar"),t.destroy()},this.options.timeout+50)),this.addListeners()}},{key:"messageToHtml",value:function(){return this.options.link!==!1?"<span>"+this.data+"</span><a href='"+this.options.url+"'>"+this.options.link+"</a>":"<span>"+this.data+"</span>"}},{key:"addListeners",value:function(){var t=this;this.snackbar.addEventListener("click",function(){"function"==typeof this_.callback&&t.callback(),element.setAttribute("class","snackbar"),t.destroy()}),"false"!==this.options.timeout&&(this.snackbar.addEventListener("mouseenter",function(){t.timer.pause()}),this.snackbar.addEventListener("mouseout",function(){t.timer.resume()}))}},{key:"destroy",value:function(t){var e=this;this.timer instanceof Timer&&this.timer.pause(),setTimeout(function(){e.snackbar.remove()},1e4)}},{key:"activateOptions",value:function(t){var e=t||{},n={timeout:5e3,activeClass:"snackbar-active",link:!1,url:"#"};for(var a in n)n.hasOwnProperty(a)&&!e.hasOwnProperty(a)&&(e[a]=n[a]);return e}}]),t}();module.exports=Snackbar;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),_snackbar=require("./snackbar.js"),_snackbar2=_interopRequireDefault(_snackbar),_timer=require("./timer.js"),_timer2=_interopRequireDefault(_timer),SnackbarLight=function(){function t(){_classCallCheck(this,t),"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=this:"function"==typeof define&&define.amd||window.Vue&&Vue.use(this),this.addListeners()}return _createClass(t,[{key:"install",value:function(t){var e=this;t.prototype.$snackbar={},t.prototype.$snackbar.create=function(t,n,a){e.create(t,n,a)}}},{key:"create",value:function(t,e,n){new _snackbar2["default"](t,e,n)}},{key:"findElements",value:function(){return document.querySelectorAll("[data-toggle=snackbar]")}},{key:"addListeners",value:function(){for(var t=this.findElements(),e=t.length-1;e>=0;e--)this.addListener(t[e])}},{key:"addListener",value:function(t){var e=this;t.addEventListener("click",function(){e.create(e.getAttribute("data-content"),e.getOptions(e))})}},{key:"getOptions",value:function(t){var e={};return null!==t.getAttribute("data-link")&&(e.link=t.getAttribute("data-link")),null!==t.getAttribute("data-timeout")&&(e.timeout=t.getAttribute("data-timeout")),null!==t.getAttribute("data-activeClass")&&(e.activeClass=t.getAttribute("data-active-class")),null!==t.getAttribute("data-url")&&(e.url=t.getAttribute("data-url")),e}}]),t}(),snackbarLight=new SnackbarLight,_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),Timer=function(){function t(e,n){_classCallCheck(this,t),this.timerId=Math.round(1e3*Math.random()),this.callback=e,this.remaining=n,this.resume()}return _createClass(t,[{key:"pause",value:function(){window.clearTimeout(this.timerId),this.remaining-=new Date-this.start}},{key:"resume",value:function(){this.start=new Date,window.clearTimeout(this.timerId),this.timerId=window.setTimeout(callback,this.remaining)}}]),t}();module.exports=Timer;